# 3.5 viエディタ

# 3.5.1 viエディタの基本

-Rオプションを指定すると、読み取り専用モードでファイルを開く

`入力モード` 
- i : カーソルの前にテキストを入力する
- I : 行頭の最初の文字にカーソルを移動し、その直前にテキストを入力する
- a : カーソルの後にテキストを入力する
- A : 行末にカーソルを移動し、その直後にテキストを入力する
- o : カレント行の下に空白行を挿入し、その行でテキストを入力する
- O : カレント行の上に空白行を挿入し、その行でテキストを入力する

`viのカーソル操作`

- h <-
- j ↓
- k ↑
- l -> 
- ^ 行の先頭
- $ 行の末
- H 画面の一番上の行頭
- L 画面の一番下の行頭
- gg ファイルの先頭行
- G ファイルの最終行
- nG ファイルのn行目
- :n ファイルのn行目

`viの終了、ファイル保存、シェルコマンドの実行`

- ZZ is the same as :wq
- :e! 最終に保存した内容に復帰する
- :r ファイル名　ファイルの内容をカレント行以降に読み込む
- :! コマンド　viを終了せずにシェルコマンドを実行する
- :r! コマンド　シェルコマンドの実行結果を挿入する


```
$ :!ls // viを動作させたままlsコマンドが実行される
```

`viの編集モード`

- x : delete
- X : backspace
- dw : カーソル位置から次の単語までを削除する
- P : カレント行の上にバッファの内容を張り付ける
- r カーソル位置の1文字を置換する

`viの検索コマンド`

- ? パターン : カーソル位置から前方にむかって指定したパターンを検索する
- :noh : 候補のハイライト表示を解除する
- %s/A/B/ : 最初に見つかった文字列Aを文字列Bに置換する

`viの設定モード`

- :set nonu :行番号を非表示する
- :set ts=タブ幅　:タブ幅を数値で指定する

:setで行った変更は、viを終了させると消えてしまう。 ~/.exrc(vimの場合.vimrc)に設定を記述する必要ある


